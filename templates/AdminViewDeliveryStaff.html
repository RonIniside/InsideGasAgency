{% extends 'AdminPage.html' %}
{% block body %}
{% if data %}
  <div class="content">
        <div class="container mt-3 ">
            <div class="row">
                <div class="col-12 bg-success">
                    <h2 class="my-4 fw-bold text-white">View Delivery staff</h2>
                </div>
            </div>
        </div>
      {%for i in limit%}
                  <div class="d-inline-flex my-4">
                      <form action="AdminUpdateDailylimit" method="get">
                          {%csrf_token%}
                      <h5 class="mx-3">Set Delivery Staff Daily Limit</h5>
                <button type="button" class="btn btn-primary mx-3" id="minusBtn">-</button>
                <input type="number" class="text-center" id="quantityInput" name="daily_limit" value="{{i.DailyLimit}}" min="1" style="background-color: antiquewhite;">
                <button type="button" class="btn btn-primary" id="plusBtn">+</button>
                      <button type="submit" class="btn btn-success">Submit</button>
                          </form>
            </div>
      {%endfor%}


      <div class="container mt-3">
            <div class="row">
                <div class="col-12 ">
                    <table class="table table-secondary table-bordered text-center my-5 ">
                          <thead>
                            <tr class="ms-auto">
                              <th scope="col">#</th>
                              <th scope="col">Name</th>
                              <th scope="col">Address</th>
                              <th scope="col">Gender</th>
                              <th scope="col">Phone</th>
                              <th scope="col">Vehicle Number</th>
                              <th scope="col">Vehicle Type</th>
                              <th scope="col">Joined Date</th>
                            </tr>
                          </thead>
                          <tbody>
                          {% for i in data %}
                            <tr>
                              <th scope="row">1</th>
                              <td>{{i.t_name}}</td>
                              <td>{{i.t_address}}</td>
                                <td>{{i.t_gender}}</td>
                                <td>{{i.t_phone}}</td>
                                <td>{{i.t_VehicleNo}}</td>
                                <td>{{i.t_VehicleType}}</td>
                                <td>{{i.t_joined_date}}</td>
                            </tr>
                          {% endfor %}
                          </tbody>
                    </table>
                </div>
            </div>
        </div>
      {% else %}
      <h1>No Data</h1>
{% endif %}

<script>
    // Initial values
    var quantityInput = document.getElementById('quantityInput');
    var totalAmountInput = document.getElementById('totalAmount'); // Change to input field
    var pricePerItem = 1; // Replace with your actual price per item

    // Function to update the total amount
    function updateTotalAmount() {
        var quantity = parseInt(quantityInput.value);
        var totalAmount = quantity * pricePerItem;
        totalAmountInput.value = totalAmount; // Set the input field value
    }

    // Attach the function to the quantity input's "input" event
    quantityInput.addEventListener('input', updateTotalAmount);

    // Attach event listeners to plus and minus buttons
    document.getElementById('plusBtn').addEventListener('click', function() {
        quantityInput.value = parseInt(quantityInput.value) + 1;
        updateTotalAmount();
    });

    document.getElementById('minusBtn').addEventListener('click', function() {
        if (parseInt(quantityInput.value) > 1) {
            quantityInput.value = parseInt(quantityInput.value) - 1;
            updateTotalAmount();
        }
    });

    // Initialize the total amount on page load
    updateTotalAmount();
</script>
{%endblock%}